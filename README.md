# üèÜ Hall da Fama dos Mestres

Uma aplica√ß√£o web interativa e gamificada para celebrar o Dia dos Professores de forma inovadora e memor√°vel. Criada com Next.js, TypeScript e Tailwind CSS, e conectada em tempo real com o Supabase.

---

### Vis√£o Geral do Projeto

O "Hall da Fama dos Mestres" √© uma iniciativa para engajar os alunos a homenagearem seus professores de maneira divertida e criativa. Atrav√©s de uma s√©rie de telas, os alunos selecionam um professor, o classificam em uma categoria divertida (como "Mestre dos Memes" ou "Guardi√£o do Caf√© Infinito"), escrevem uma mensagem de carinho e, como recompensa, assistem a um v√≠deo surpresa gravado pelo pr√≥prio mestre.

Todas as homenagens alimentam um **Tel√£o Ao Vivo**, projetado para ser exibido em √°reas comuns do campus, mostrando os rankings das categorias e um mural din√¢mico com as √∫ltimas mensagens enviadas.

### ‚ú® Principais Funcionalidades

- **Fluxo de Homenagem Intuitivo:** Uma jornada passo a passo para o aluno criar sua homenagem.
- **Sele√ß√£o de Professores com Filtro:** Encontre facilmente qualquer professor filtrando por curso.
- **Categorias Criativas:** Um sistema de "pr√™mios" divertidos com √≠cones e descri√ß√µes √∫nicas.
- **Recompensa Instant√¢nea:** V√≠deos surpresa dos professores para engajar os participantes.
- **Tel√£o Din√¢mico em Tempo Real:** Um dashboard conectado ao Supabase com:
  - **Ranking de Categorias:** P√≥dios que mostram os professores mais votados, atualizados a cada nova homenagem.
  - **Mural de Post-its Animado:** As √∫ltimas homenagens aparecem instantaneamente como post-its coloridos que se movem pela tela.
- **Design Moderno e Responsivo:** Interface agrad√°vel em qualquer dispositivo, do celular ao tel√£o.
- **Instal√°vel (PWA):** A aplica√ß√£o pode ser adicionada √† tela inicial de tablets e celulares para uma experi√™ncia em tela cheia.

---

### üöÄ Tecnologias Utilizadas

- **Framework:** [Next.js](https://nextjs.org/) (App Router) ‚öõÔ∏è
- **Linguagem:** [TypeScript](https://www.typescriptlang.org/) üî∑
- **Estiliza√ß√£o:** [Tailwind CSS](https://tailwindcss.com/) üé®
- **Banco de Dados:** [Supabase](https://supabase.com/) (PostgreSQL com Realtime) üêò
- **√çcones:** [React Icons](https://react-icons.github.io/react-icons/) üß©
- **Fontes:** [Next/Font](https://nextjs.org/docs/basic-features/font-optimization).
- **Deployment:** [Vercel](https://vercel.com/) ‚ñ≤

---

### üóÉÔ∏è Configura√ß√£o do Banco de Dados (Supabase)

Antes de rodar o projeto, √© necess√°rio configurar o banco de dados no Supabase.

**Pr√©-requisitos:**
- Uma conta gratuita no [Supabase](https://supabase.com/).
- Um novo projeto criado.

#### 1. Vari√°veis da API Supabase

1.  Altere um arquivo chamado `supabase.ts` na pasta data do seu projeto.
2.  V√° para o painel do seu projeto no Supabase, em **Project Settings > API**.
3.  Copie a **URL** e a chave **anon public** e cole no arquivo `supabase.ts`:

    ```supabase.ts
    const supabaseURL = "COLE_SUA_URL_AQUI"
    const supabaseKey = "COLE_SUA_CHAVE_ANON_AQUI"
    export { supabaseURL, supabaseKey }
    ```

#### 2. Script SQL - Estrutura Completa

V√° para o **SQL Editor** no seu painel Supabase, crie uma **"+ New query"** e execute o script abaixo. Ele criar√° todas as tabelas, fun√ß√µes e permiss√µes necess√°rias de uma s√≥ vez.

```sql
-- PASSO 1: Deleta as tabelas antigas para um recome√ßo limpo.
DROP TABLE IF EXISTS public.homenagens;
DROP TABLE IF EXISTS public.professores;
DROP TABLE IF EXISTS public.cursos;
DROP TABLE IF EXISTS public.categorias;

-- PASSO 2: Cria as tabelas.

CREATE TABLE public.cursos (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
  nome TEXT NOT NULL UNIQUE
);

CREATE TABLE public.categorias (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
  titulo TEXT NOT NULL UNIQUE,
  descricao TEXT NOT NULL,
  icone_nome TEXT NOT NULL 
);

CREATE TABLE public.professores (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
  name TEXT NOT NULL,
  image_url TEXT,
  video_urls TEXT[],
  curso_id BIGINT REFERENCES public.cursos(id) ON DELETE SET NULL
);

CREATE TABLE public.homenagens (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
  student_name TEXT NOT NULL,
  student_course TEXT NOT NULL,
  student_period TEXT NOT NULL,
  message TEXT NOT NULL,
  is_approved BOOLEAN DEFAULT FALSE NOT NULL,
  professor_id BIGINT REFERENCES public.professores(id) ON DELETE CASCADE,
  category_id BIGINT REFERENCES public.categorias(id) ON DELETE SET NULL
);

-- PASSO 3: Cria a fun√ß√£o para calcular os rankings.
CREATE OR REPLACE FUNCTION get_category_rankings(limit_per_category INT)
RETURNS TABLE (
    "categoryTitle" TEXT,
    "Icon" TEXT,
    ranking JSONB
) AS $$
BEGIN
    RETURN QUERY
    WITH ranked_professors AS (
        SELECT
            h.category_id,
            h.professor_id,
            COUNT(*) AS votes,
            ROW_NUMBER() OVER(PARTITION BY h.category_id ORDER BY COUNT(*) DESC) as rank_num
        FROM public.homenagens h
        WHERE h.is_approved = TRUE
        GROUP BY h.category_id, h.professor_id
    )
    SELECT
        c.titulo AS "categoryTitle",
        c.icone_nome AS "Icon",
        JSONB_AGG(
            JSONB_BUILD_OBJECT(
                'name', p.name,
                'imageUrl', p.image_url,
                'votes', rp.votes
            )
            ORDER BY rp.rank_num
        ) FILTER (WHERE rp.rank_num <= limit_per_category) AS ranking
    FROM public.categorias c
    LEFT JOIN ranked_professors rp ON c.id = rp.category_id
    LEFT JOIN public.professores p ON rp.professor_id = p.id
    GROUP BY c.id, c.titulo, c.icone_nome
    ORDER BY c.titulo;
END;
$$ LANGUAGE plpgsql;


-- PASSO 4: Habilita o Realtime e cria as Pol√≠ticas de Acesso (RLS)
ALTER TABLE public.homenagens REPLICA IDENTITY FULL;

CREATE POLICY "Public read access for homenagens" ON public.homenagens FOR SELECT USING (true);
CREATE POLICY "Public read access for professors" ON public.professores FOR SELECT USING (true);
CREATE POLICY "Public read access for cursos" ON public.cursos FOR SELECT USING (true);
CREATE POLICY "Public read access for categorias" ON public.categorias FOR SELECT USING (true);
CREATE POLICY "Allow public inserts for homenagens" ON public.homenagens FOR INSERT WITH CHECK (true);
```

#### 3. Script SQL - Povoamento Inicial (Dados de Teste)

Ap√≥s a cria√ß√£o da estrutura, execute este segundo script para popular as tabelas com dados de exemplo.

```sql
-- Limpa os dados existentes para evitar duplicatas.
DELETE FROM public.professores;
DELETE FROM public.categorias;
DELETE FROM public.cursos;

-- Insere os cursos.
INSERT INTO public.cursos (nome) VALUES
('Ensino M√©dio T√©cnico em Inform√°tica'),
('An√°lise e Desenvolvimento de Sistemas'),
-- ... (cole o resto da lista de cursos aqui) ...
('Revit'),
('SketchUp')
ON CONFLICT (nome) DO NOTHING;

-- Insere as categorias.
INSERT INTO public.categorias (titulo, descricao, icone_nome) VALUES
('Mestre dos Memes', 'Para quem fala fluente em Gifs e sempre tem uma figurinha perfeita para a situa√ß√£o.', 'FaLaughBeam'),
-- ... (cole o resto da lista de categorias aqui) ...
('O(A) Comediante Stand-Up', 'Cada aula tem uma dose de bom humor que nos faz aprender rindo.', 'FaMicrophone')
ON CONFLICT (titulo) DO UPDATE SET
  descricao = EXCLUDED.descricao,
  icone_nome = EXCLUDED.icone_nome;
  
-- Insere os professores de teste.
INSERT INTO public.professores (name, curso_id, image_url, video_urls) VALUES
('Ricardo Mendes', 2, '[https://i.pravatar.cc/150?img=59](https://i.pravatar.cc/150?img=59)', ARRAY['[https://www.youtube.com/embed/example1](https://www.youtube.com/embed/example1)']),
-- ... (cole o resto da lista de professores aqui) ...
('Camila Santos', 20, '[https://i.pravatar.cc/150?img=25](https://i.pravatar.cc/150?img=25)', NULL);
```

---

### üîß Como Rodar o Projeto Localmente

1.  **Clone o reposit√≥rio:**
    ```bash
    git clone https://github.com/VitorCyriaco/teacher-week.git
    ```
2.  **Navegue at√© a pasta do projeto:**
    ```bash
    cd teacher-week
    ```
3.  **Instale as depend√™ncias:**
    ```bash
    npm install
    ```
4.  **Rode o servidor de desenvolvimento:**
    ```bash
    npm run dev
    ```
5.  **Abra o navegador:**
    Acesse [`http://localhost:3000`](http://localhost:3000) para ver a aplica√ß√£o funcionando.

---

### üìÇ Estrutura do Projeto

O projeto utiliza o App Router do Next.js, organizando as rotas e componentes da seguinte forma:

```
/
‚îú‚îÄ‚îÄ app/                  # Cont√©m todas as rotas da aplica√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx        # Layout principal (com fontes)
‚îÇ   ‚îú‚îÄ‚îÄ globals.css     # Estilos globais e anima√ß√µes
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx          # Tela Inicial (/)
‚îÇ   ‚îú‚îÄ‚îÄ info/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx      # Tela de Info do Aluno (/info)
‚îÇ   ‚îú‚îÄ‚îÄ professores/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx      # Tela de Sele√ß√£o de Professores (/professores)
‚îÇ   ‚îú‚îÄ‚îÄ homenagem/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ [professorId]/  # Rota din√¢mica para o fluxo de homenagem
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ categorias/
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ mensagens/
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ video/
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ page.tsx
‚îÇ   ‚îî‚îÄ‚îÄ telao/
‚îÇ       ‚îî‚îÄ‚îÄ page.tsx      # Tela do Tel√£o (/telao)
‚îÇ
‚îú‚îÄ‚îÄ components/           # Componentes reutiliz√°veis (Ex: InfoPageContent.tsx)
‚îú‚îÄ‚îÄ data/                 # Arquivos com dados mockados (professores, categorias, etc.)
‚îú‚îÄ‚îÄ lib/                  # Arquivo para liberar as chamadas de API.
‚îú‚îÄ‚îÄ services/             # Arquivos de chamadas de API (requisi√ß√µes do banco)
‚îî‚îÄ‚îÄ types/                # Arquivo com as defini√ß√µes de tipos (TypeScript)
```

---

### üí° Melhorias Futuras

- [ ] **Painel de Modera√ß√£o:** Uma √°rea administrativa para aprovar as mensagens antes de irem para o tel√£o.
- [ ] **Legado Digital:** Criar uma p√°gina p√∫blica final onde cada professor possa ver todas as homenagens que recebeu.

---

Criado para celebrar o dia dos professores.
